% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/class001-policy.R
\name{manifest-file}
\alias{manifest-file}
\alias{manifest_write}
\alias{manifest_read}
\title{Read or Write Manifest from or to a YAML File}
\usage{
manifest_write(x, file, ...)

manifest_read(file, ...)
}
\arguments{
\item{x}{A \code{Manifest} object to serialize (for \code{manifest_write}).}

\item{file}{Character. Path to the YAML file (input for \code{manifest_read},
output for \code{manifest_write}).}

\item{...}{Additional arguments passed to \code{yaml::read_yaml()} or
\code{yaml::write_yaml()}.}
}
\value{
\itemize{
\item \code{manifest_write()}: Invisibly returns the path to the written file.
\item \code{manifest_read()}: A validated \code{Manifest} object.
}
}
\description{
Serialize and deserialize \code{Manifest} objects to and from YAML files. This
enables version control and sharing of workflow policy definitions. The
resulting YAML files are human-readable and can be edited manually, though
changes must still pass validation when read back.

\code{manifest_write()} serializes a \code{Manifest} object to a YAML file.

\code{manifest_read()} deserializes a YAML file back into a validated \code{Manifest}
object, reconstructing the \code{MasterPolicy} and \code{StatePolicy} objects and
enforcing all validation rules (e.g., every stage must have a corresponding
state).
}
\examples{
# Create a manifest
mp <- MasterPolicy(
  name = "demo-workflow",
  version = "1.0.0",
  stages = c("idle", "working"),
  parameters = list(timeout = 300)
)
sp1 <- StatePolicy(name = "init", stage = "idle",
                   description = "Initial state")
sp2 <- StatePolicy(name = "process", stage = "working",
                   description = "Processing state")
manifest <- Manifest(master = mp, states = list(sp1, sp2))

# Write to temporary file
tmp <- tempfile(fileext = ".yaml")
manifest_write(manifest, tmp)

# Verify file exists
file.exists(tmp)

# Read it back
manifest2 <- manifest_read(tmp)

# Verify the name matches
manifest2@name == "demo-workflow"

# Clean up
unlink(tmp)
}
