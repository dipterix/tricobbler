% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/class-skill.R
\name{Skill}
\alias{Skill}
\title{Skill: Load and Serve Claude Skill Directories}
\value{
A named list with one \code{\link[ellmer]{tool}} object.
The name is \verb{skill-\{name\}}.
}
\description{
R6 class that loads a claude skill directory (containing
\code{SKILL.md}, optional \code{scripts/}, and reference files) and
exposes it as a single \code{\link[ellmer]{tool}} definition via the
\code{$make_tools()} method.
}
\details{
A skill directory must contain a \code{SKILL.md} file with optional YAML
frontmatter (\code{name}, \code{description}, \code{metadata}) and a
markdown body. The directory may also contain:
\itemize{
\item Reference files: top-level files (other than \code{SKILL.md}) and
files inside directories whose name starts with \code{"reference"}
(case-insensitive), e.g. \code{reference/}, \code{references/},
\code{Reference/}
\item A \code{scripts/} subdirectory with callable R, shell, or python
scripts (executed via CLI only)
}

The \code{$make_tools()} method returns a single
\code{\link[ellmer]{tool}} named \verb{skill-\{name\}} that dispatches
on an \code{action} parameter:
\describe{
\item{\code{"readme"}}{Returns the \code{SKILL.md} body. Must be
called first to unlock other actions.}
\item{\code{"reference"}}{Reads reference files with optional line
range and grep filtering (only available when reference files exist)}
\item{\code{"script"}}{Executes scripts via CLI with
\code{processx::run()} (only available when scripts exist)}
}
}
\examples{
skill_dir <- system.file("skills", "weather", package = "tricobbler")
if (nzchar(skill_dir) && dir.exists(skill_dir)) {
  skill <- Skill$new(skill_dir)
  skill$name
  skill$description

  # Produce ellmer tool definitions
  tools <- skill$make_tools()
  names(tools)
}

}
\section{Public fields}{
\if{html}{\out{<div class="r6-fields">}}
\describe{
\item{\code{description}}{character, skill description from
\code{SKILL.md} frontmatter}

\item{\code{body}}{character, the markdown body of \code{SKILL.md}}

\item{\code{scripts}}{named list, script metadata discovered from the
\code{scripts/} subdirectory (see \code{Details})}

\item{\code{file_choices}}{character, relative paths of reference files
available for the references action (top-level files excluding
\code{SKILL.md}, plus files in \code{reference*/} directories)}
}
\if{html}{\out{</div>}}
}
\section{Active bindings}{
\if{html}{\out{<div class="r6-active-bindings">}}
\describe{
\item{\code{name}}{character, skill name (lowercase letters and dashes only,
read-only)}

\item{\code{path}}{character, absolute path to the skill directory (read-only)}
}
\if{html}{\out{</div>}}
}
\section{Methods}{
\subsection{Public methods}{
\itemize{
\item \href{#method-TricobblerSkill-new}{\code{Skill$new()}}
\item \href{#method-TricobblerSkill-parse}{\code{Skill$parse()}}
\item \href{#method-TricobblerSkill-make_tools}{\code{Skill$make_tools()}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TricobblerSkill-new"></a>}}
\if{latex}{\out{\hypertarget{method-TricobblerSkill-new}{}}}
\subsection{Method \code{new()}}{
Initialize a new \code{Skill} from a skill directory
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Skill$new(path)}\if{html}{\out{</div>}}
}

\subsection{Arguments}{
\if{html}{\out{<div class="arguments">}}
\describe{
\item{\code{path}}{character, path to the skill directory (must contain
\code{SKILL.md})}
}
\if{html}{\out{</div>}}
}
}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TricobblerSkill-parse"></a>}}
\if{latex}{\out{\hypertarget{method-TricobblerSkill-parse}{}}}
\subsection{Method \code{parse()}}{
Parse the \code{SKILL.md} file and update fields
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Skill$parse()}\if{html}{\out{</div>}}
}

}
\if{html}{\out{<hr>}}
\if{html}{\out{<a id="method-TricobblerSkill-make_tools"></a>}}
\if{latex}{\out{\hypertarget{method-TricobblerSkill-make_tools}{}}}
\subsection{Method \code{make_tools()}}{
Produce a single \code{\link[ellmer]{tool}} definition
for this skill
\subsection{Usage}{
\if{html}{\out{<div class="r">}}\preformatted{Skill$make_tools()}\if{html}{\out{</div>}}
}

}
}
