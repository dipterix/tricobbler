# This file is automatically generated by tricobbler::mcptool_build(). 
# Please never edit this file by hand!
name: tricobbler-mcp_tool_run_r
description: 'Execute R code and capture printed values, text output, messages, warnings,
  and errors. ## CORE RULES (FOLLOW STRICTLY) - MUST work incrementally: each call
  should do one small, well-defined task - MUST create no more than one rendered figure
  per tool call. Use separate calls for multiple figures. - MUST NOT use this tool
  to "talk to the user". Explanations and interpretation belong in the assistant message
  - MUST read any error messages carefully - MUST NOT make more than 2 attempts to
  fix an error - After 2 failed attempts: stop, summarize what you tried, include
  the error(s), and propose the next change without executing it. ## SAFETY REQUIREMENTS
  (MUST FOLLOW) - This code runs in a global environment. Write code that is safe,
  reversible, and non-destructive - MUST NOT perform any of the following UNLESS the
  user explicitly requests it and you first show the code and target paths/URLs: -
  File writes or modifications (persistent output, overwriting, deleting) - System/shell
  execution (system, system2, pipe, shell) - Network requests - Package installation
  or updates - SHOULD NOT change global state (options, environment variables, working
  directory, etc.) - Working directory, options and environment variables are reset
  between tool calls - MUST use temporary files for any ephemeral storage needs (tempfile())
  ## CODE AND OUTPUT STYLE - ALWAYS write clear, concise, and idiomatic R code, preferring
  packages and functions from the tidyverse ecosystem when available - PREFER less
  than 50 lines of code per tool call - SHOULD use code comments to explain only the
  non-obvious parts of the code - AVOID using comments to literally describe the code
  - DO return results implicitly (x, not print(x)) - DO make the last expression the
  object you want to show (e.g. a data frame, tibble, list or scalar) - AVOID print()
  and cat() unless necessary. If cat() is unavoidable, you MUST use a SINGLE cat()
  call and keep it concise - PREFER returning structured objects (tibbles, data frames,
  lists) and brief summaries (head(), str(), summary()) - AVOID extremely large outputs;
  show summaries and return key results'
parameters:
  type: object
  properties:
    code:
      type: string
      description: The R code to execute. Must be valid R code. Keep code concise
        and focused on a single task.
  required:
  - code
category: execution
returns:
  type: object
  properties:
    messages:
      type: array
      description: Character vector, any messages generated during execution
      items:
        type: string
    warnings:
      type: array
      description: Character vector, any warnings generated during execution
      items:
        type: string
    error:
      type: string
      description: Character, error message if execution failed
    value:
      type: string
      description: The return value from the code execution (if success = TRUE)
    output:
      type: string
      description: Character, captured console output (prints, messages, warnings)
    success:
      type: boolean
      description: Logical, whether the code executed without errors
implementation_example: |
  # Example: Simple calculation
  tricobbler:::mcp_tool_run_r("mean(1:10)")
  # Example: Data frame operation
  tricobbler:::mcp_tool_run_r("head(mtcars, 3)")
  #
  #> $success
  #> [1] TRUE
  #> 
  #> $output
  #> [1] ""
  #> 
  #> $value
  #>      mpg cyl disp hp drat
  #>  [ reached 'max' / getOption("max.print") -- omitted 6 columns ]
  #>  [ reached 'max' / getOption("max.print") -- omitted 3 rows ]
  #>
execution_time: 0.017
