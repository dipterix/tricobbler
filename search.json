[{"path":"http://dipterix.org/tricobbler/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 tricobbler authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR description NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://dipterix.org/tricobbler/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Dipterix Wang. Author, maintainer.","code":""},{"path":"http://dipterix.org/tricobbler/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wang D (2026). tricobbler: Multi-Agent Workflow Orchestration Immutable Policy Definitions. R package version 0.0.0.9000, http://dipterix.org/tricobbler/.","code":"@Manual{,   title = {tricobbler: Multi-Agent Workflow Orchestration with Immutable Policy Definitions},   author = {Dipterix Wang},   year = {2026},   note = {R package version 0.0.0.9000},   url = {http://dipterix.org/tricobbler/}, }"},{"path":[]},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"architecture-overview","dir":"","previous_headings":"","what":"Architecture Overview","title":"TriCobbler Package - Agent Guide","text":"Core Philosophy: Simplified workflow orchestration immutable policy blueprints (S7) mutable runtime execution (R6). Focus manifest→instance pattern. Two-Layer Architecture: 1. Policy Layer (S7): Manifest contains MasterPolicy + StatePolicy[] - See R/class-policy.R 2. Runtime Layer (R6): Scheduler orchestrates execution, Context persists results - See R/class-scheduler.R Data Flow: Manifest blueprint → Agents registered → Scheduler executes priority → Context records results","code":""},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"critical-rules","dir":"","previous_headings":"","what":"Critical Rules","title":"TriCobbler Package - Agent Guide","text":"⚠️ MANDATORY FIRST STEP: Always read .github/copilot/DEVELOPMENT-RULES.md (lines 1-40) performing task - contains non-negotiable conventions prevent repeated mistakes. ENFORCEMENT RULE: MUST call read_file .github/copilot/DEVELOPMENT-RULES.md (lines 1-40) FIRST action user requests: - Documentation changes (roxygen2, .Rd files) - Spell checking (spellchk, spelling::spell_check_package()) - Code formatting style fixes - Adding/modifying package dependencies - Creating/editing examples - MCP tool changes proceed task read rules. checklist tells exactly handle scenario correctly.","code":""},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"essential-guides","dir":"","previous_headings":"","what":"Essential Guides","title":"TriCobbler Package - Agent Guide","text":"Additional documentation available .github/copilot/ : - DevOps workflows (load, test, check, build) - See .github/copilot/DEVOPS-GUIDE.md - S7 vs R6 documentation examples - See .github/copilot/S7-R6-DOCUMENTATION.md","code":""},{"path":"http://dipterix.org/tricobbler/index.html","id":"tricobbler","dir":"","previous_headings":"","what":"Multi-Agent Workflow Orchestration with Immutable Policy Definitions","title":"Multi-Agent Workflow Orchestration with Immutable Policy Definitions","text":"word tricobbler comes Chinese proverb emphasizing collaboration among ordinary people can surpass intelligence single genius. Three cobblers wits combined equal Zhuge Liang 三个臭皮匠，顶个诸葛亮 goal tricobbler combine ","code":""},{"path":"http://dipterix.org/tricobbler/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Multi-Agent Workflow Orchestration with Immutable Policy Definitions","text":"can install development version tricobbler like :","code":"# FILL THIS IN! HOW CAN PEOPLE INSTALL YOUR DEV PACKAGE?"},{"path":"http://dipterix.org/tricobbler/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Multi-Agent Workflow Orchestration with Immutable Policy Definitions","text":"basic example shows solve common problem:","code":"library(tricobbler) ## basic example code"},{"path":"http://dipterix.org/tricobbler/reference/Agent.html","id":null,"dir":"Reference","previous_headings":"","what":"Agent Function Wrapper for State Execution — Agent","title":"Agent Function Wrapper for State Execution — Agent","text":"Creates executable agent can registered Scheduler execute state-specific logic. agent wraps user-defined function metadata (id, description) result formatting. Agents execution units Runtime Layer (Tier 2) implement logic defined StatePolicy objects Policy Layer (Tier 1).","code":""},{"path":"http://dipterix.org/tricobbler/reference/Agent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Agent Function Wrapper for State Execution — Agent","text":"","code":"Agent(   .data = function() NULL,   id = character(0),   description = character(0),   describe = tricobbler::mcp_describe )"},{"path":"http://dipterix.org/tricobbler/reference/Agent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Agent Function Wrapper for State Execution — Agent","text":".data function, agent implementation signature function(self, policy, context, ...) id character, unique identifier agent (letters, digits, underscores, dashes ) description character, human-readable description agent describe function NULL, result formatting function logging; defaults mcp_describe. provided, take result first argument return character string","code":""},{"path":"http://dipterix.org/tricobbler/reference/Agent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Agent Function Wrapper for State Execution — Agent","text":"Agent object (S7 class inheriting function)","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/Agent.html","id":"agent-function-signature","dir":"Reference","previous_headings":"","what":"Agent Function Signature","title":"Agent Function Wrapper for State Execution — Agent","text":"wrapped function must following signature: Required arguments: self: Reference agent object policy: StatePolicy object executed context: Context object logging state access ...: Additional arguments (optional)","code":"function(self, policy, context, ...) {   # Agent implementation   # Return value will be logged to context via @describe }"},{"path":"http://dipterix.org/tricobbler/reference/Agent.html","id":"agent-execution-flow","dir":"Reference","previous_headings":"","what":"Agent Execution Flow","title":"Agent Function Wrapper for State Execution — Agent","text":"Scheduler executes state: Looks agent StatePolicy@agent_id Calls agent function (self, policy, context) Captures return value Uses describe function format result logging Logs formatted result Context","code":""},{"path":"http://dipterix.org/tricobbler/reference/Agent.html","id":"result-description","dir":"Reference","previous_headings":"","what":"Result Description","title":"Agent Function Wrapper for State Execution — Agent","text":"describe property controls results formatted AI-readable logs. default, uses mcp_describe captures printed results. describe property serves three purposes: first, function allows agent format output better AI-readability. formatted results logged public log file along scheduling messages; second, agent can choose redact sensitive information avoid insecure agents access data - reading attachments requires permissions agents (according implemented) access attachments; finally, output description recorded public log file agents can still refer context without reading corresponding attachment file. example local agent's output contains user-sensitive data, describe function may hide information string replacement, simply show data format schema. online-agents may still see redacted outputs log files work output (writing code executing tools).","code":""},{"path":"http://dipterix.org/tricobbler/reference/Agent.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Agent Function Wrapper for State Execution — Agent","text":"","code":"# Basic agent simple_agent <- Agent(   function(self, policy, context) {     context$logger(\"Executing simple task\")     return(\"Task completed\")   },   id = \"simple_agent\",   description = \"A simple demonstration agent\" )   # Agent with custom result formatting function analysis_agent <- Agent(   function(self, policy, context) {     result <- list(       status = \"success\",       items_processed = 42,       timestamp = Sys.time(),       long_result = rnorm(100),       sensitive_data = \"my password\"     )     return(result)   },   id = \"analysis_agent\",   description = \"Performs data analysis\",   describe = function(result) {     result$sensitive_data <- \"<password redacted...>\"     c(       sprintf(\"Processed %d items at %s.\\n\",               result$items_processed, result$timestamp),       \"Here are the snapshots with R str():\",       utils::capture.output(str(result))     )   } )  # run these agents manifest <- Manifest(   master = MasterPolicy(     name = \"example\",     version = \"0.0.1\",     stages = \"executing\"   ),   states = list(     StatePolicy(name = \"simply_policy\",                 stage = \"executing\",                 agent_id = \"simple_agent\"),     StatePolicy(name = \"analysis_policy\",                 stage = \"executing\",                 agent_id = \"analysis_agent\")   ) )  scheduler <- Scheduler$new(manifest = manifest,                            agents = list(simple_agent, analysis_agent))  if(interactive()) {   scheduler$start()   # TRACE 10:53:15 [scheduler]: Initializing resources   # TRACE 10:53:15 [scheduler]: current stage: executing   # TRACE 10:53:15 [scheduler]: starting state: simply_policy with   #  agent simple_agent (attempt 0)   # INFO 10:53:15 [Agent simple_agent]: Executing simple task   # INFO 10:53:15 [context]: Following result recorded:   #  Agent=simple_agent, stage=executing,   #  state=simply_policy, attempt=0,   #  identifier=[executing][simply_policy][simple_agent]_20T105315_0   # INFO 10:53:15 [context]: \"Task completed\"   # TRACE 10:53:15 [scheduler]: starting state: analysis_policy with   #  agent analysis_agent (attempt 0)   # INFO 10:53:15 [context]: Following result recorded:   #  Agent=analysis_agent, stage=executing,   #  state=analysis_policy, attempt=0,   #  identifier=[executing][analysis_policy][analysis_agent]_20T105315_0   # INFO 10:53:15 [context]: Processed 42 items at 10:53:15.   # INFO 10:53:15 [context]: Here are the snapshots with R str():   #  List of 5 $ status :   #    chr \"success\" $ items_processed: num 42   #    $ timestamp : POSIXct[1:1], format: \"2026-02-03 10:53:15\"   #    $ long_result : num [1:100] 0.372 0.504 -1.584 -0.728 0.18 ...   #    $ sensitive_data : chr \"<password redacted...>\"   # TRACE 10:53:15 [scheduler]: current stage: ready }"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":null,"dir":"Reference","previous_headings":"","what":"Execution Context for Workflow State Management — AgentContext","title":"Execution Context for Workflow State Management — AgentContext","text":"R6 class manages execution environment workflow states. Provides logging, result storage, attachment management workflow execution. part Runtime Layer (Tier 2) alongside Scheduler.","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"Execution Context for Workflow State Management — AgentContext","text":"id character, unique identifier context (read-) rootpath character, root directory context storage (read-) current_stage character, currently executing stage scheduler (read-) current_state character, currently executing state scheduler (read-) memory_path character, path shared memory directory (read-) store_path character, path context's conversation directory (read-) logger_path character, path log file (read-) attachment_path character, path attachments directory (read-)","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Execution Context for Workflow State Management — AgentContext","text":"AgentContext$set_scheduler() AgentContext$new() AgentContext$init_resources() AgentContext$logger() AgentContext$with_activated() AgentContext$record_result() AgentContext$last_results() AgentContext$get_attachment() AgentContext$list_attachments() AgentContext$has_attachment() AgentContext$read_logs()","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-set-scheduler-","dir":"Reference","previous_headings":"","what":"Method set_scheduler()","title":"Execution Context for Workflow State Management — AgentContext","text":"Associate scheduler context","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$set_scheduler(scheduler)"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"scheduler Scheduler object associate","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Execution Context for Workflow State Management — AgentContext","text":"Initialize new context","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$new(id = NULL, path = NULL)"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"id character, unique identifier (NULL auto-generate) path character, root directory path (NULL default cache)","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-init-resources-","dir":"Reference","previous_headings":"","what":"Method init_resources()","title":"Execution Context for Workflow State Management — AgentContext","text":"Create directory structure initialize logging","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$init_resources()"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-logger-","dir":"Reference","previous_headings":"","what":"Method logger()","title":"Execution Context for Workflow State Management — AgentContext","text":"Write timestamped messages log file","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$logger(   ...,   caller = get_globals(\"active_agent\"),   level = c(\"INFO\", \"WARN\", \"ERROR\", \"FATAL\"),   verbose = c(\"cli\", \"base\", \"none\") )"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"... character, message components paste together caller object, caller (scheduler, context, agent) level character, log level (INFO, WARN, ERROR, FATAL) verbose character logical, whether verbose log results R console. logical TRUE, equivalent 'cli' (default), uses cli package colored/styled console outputs. cli installed, falls back 'base'. logical FALSE character 'none', logs printed . Use 'base' force plain cat()/message() output without styling.","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-with-activated-","dir":"Reference","previous_headings":"","what":"Method with_activated()","title":"Execution Context for Workflow State Management — AgentContext","text":"Execute expression context activated","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$with_activated(expr, quoted = FALSE, env = parent.frame())"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"expr expression, expression evaluate context active quoted logical, whether expr already quoted env environment evaluate expression","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-record-result-","dir":"Reference","previous_headings":"","what":"Method record_result()","title":"Execution Context for Workflow State Management — AgentContext","text":"Save agent output metadata","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$record_result(   result,   stage,   state,   agent_id,   current_attempt,   description,   ... )"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"result object, result agent execution stage character, stage name state character, state name agent_id character, agent identifier current_attempt integer, attempt number description character, human-readable result description ... additional metadata store","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-last-results-","dir":"Reference","previous_headings":"","what":"Method last_results()","title":"Execution Context for Workflow State Management — AgentContext","text":"Retrieve recent result(s)","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$last_results(items = 1, simplify = length(items) == 1)"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"items integer, number results retrieve simplify logical, return single result items == 1","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-get-attachment-","dir":"Reference","previous_headings":"","what":"Method get_attachment()","title":"Execution Context for Workflow State Management — AgentContext","text":"Retrieve specific attachment identifier","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$get_attachment(attachment_id)"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"attachment_id character, attachment identifier (filename record_result)","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-list-attachments-","dir":"Reference","previous_headings":"","what":"Method list_attachments()","title":"Execution Context for Workflow State Management — AgentContext","text":"List available attachments","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$list_attachments(reindex = FALSE)"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"reindex logical, whether reload index disk (default FALSE)","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-has-attachment-","dir":"Reference","previous_headings":"","what":"Method has_attachment()","title":"Execution Context for Workflow State Management — AgentContext","text":"Check attachment exists","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$has_attachment(attachment_id)"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"attachment_id character, attachment identifier (filename record_result)","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Execution Context for Workflow State Management — AgentContext","text":"logical, TRUE attachment exists disk, FALSE otherwise","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"method-read-logs-","dir":"Reference","previous_headings":"","what":"Method read_logs()","title":"Execution Context for Workflow State Management — AgentContext","text":"Read parse log file contents","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Execution Context for Workflow State Management — AgentContext","text":"","code":"AgentContext$read_logs(   method = c(\"tail\", \"head\"),   skip_lines = 0L,   max_lines = 300L,   pattern = NULL,   levels = c(\"TRACE\", \"DEBUG\", \"INFO\", \"WARN\", \"ERROR\", \"FATAL\") )"},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execution Context for Workflow State Management — AgentContext","text":"method character, read \"tail\" (end) \"head\" (beginning) skip_lines integer, skipping lines relative end start; method \"head\", skip skips first several lines, otherwise skipping last several lines; default 0L (skipping). max_lines integer, maximum number lines read (default 300) pattern character, optional regex pattern filter log content levels character, log levels include (default: levels)","code":""},{"path":"http://dipterix.org/tricobbler/reference/AgentContext.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"Execution Context for Workflow State Management — AgentContext","text":"data.frame columns: line_no, level, time, caller, content. Returns empty data.frame file missing matches.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BasePolicy.html","id":null,"dir":"Reference","previous_headings":"","what":"Abstract Base Class for Policy Objects — BasePolicy","title":"Abstract Base Class for Policy Objects — BasePolicy","text":"Internal abstract base class policy objects. defines common properties name description shared concrete subclasses. class exported intended internal use .","code":""},{"path":"http://dipterix.org/tricobbler/reference/BasePolicy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Abstract Base Class for Policy Objects — BasePolicy","text":"","code":"BasePolicy(name = character(0), description = character(0))"},{"path":"http://dipterix.org/tricobbler/reference/BasePolicy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Abstract Base Class for Policy Objects — BasePolicy","text":"name Character. Must non-blank single string. description Character. Human-readable description; multiple values collapsed single space-separated string.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":null,"dir":"Reference","previous_headings":"","what":"Validated Container Linking Master Policy to State Policies — Manifest","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Container ties MasterPolicy together list StatePolicy objects. validation ensures every stage defined master policy represented least one state.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"","code":"Manifest(master = MasterPolicy(), states = list())"},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"master MasterPolicy object states list StatePolicy objects","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"two-tier-architecture","dir":"Reference","previous_headings":"","what":"Two-Tier Architecture","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Manifest class represents validated blueprint layer (Tier 1) package two-tier design: Policy Layer (Tier 1 - Immutable S7): Blueprint definitions Manifest: Validated container linking MasterPolicy StatePolicy list MasterPolicy: Workflow version + allowed stages (macro-level phases) StatePolicy: Individual state metadata (stage, description, parameters, priority) Runtime Layer (Tier 2 - Mutable R6): Execution orchestration Scheduler: Orchestrates stage/state progression workflow execution Context: Manages execution environment (logging, storage, attachments) Agent: Executes state-specific logic","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"stages-vs-states-critical-distinction","dir":"Reference","previous_headings":"","what":"Stages vs States: Critical Distinction","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Stages (symbolic vocabulary): Workflow phase names defined MasterPolicy@stages (e.g., \"triage\", \"planning\", \"executing\") States (concrete implementations): StatePolicy objects reference stages add execution metadata (description, parameters, priority) Multiple states per stage: Enables different execution patterns: Sequential fallback: Different priorities create ordered execution Critical gates: Critical states enforce fail-fast validation semantics Validation rule: Every stage MasterPolicy@stages MUST least one corresponding StatePolicy (enforced validation)","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"validation-rules","dir":"Reference","previous_headings":"","what":"Validation Rules","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Manifest validation performs critical cross-checks: Completeness: Every MasterPolicy stage least one StatePolicy Prevents \"orphaned\" stages implementation Error message: \"Missing stages: ...\" Critical priority uniqueness: Critical states share priorities StatePolicy@critical = TRUE, state stage can priority value Prevents ambiguity critical state blocks lower-priority states Error message: \"Critical state ... share priority ...\"","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"immutability-and-serialization","dir":"Reference","previous_headings":"","what":"Immutability and Serialization","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"created, Manifest objects immutable (S7 value semantics), providing stable reference runtime execution. Manifests can serialized /YAML version control: manifest_write(manifest, file): Save human-readable YAML manifest_read(file): Load full validation validation rules apply reading YAML","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"policy-vs-runtime-separation","dir":"Reference","previous_headings":"","what":"Policy vs Runtime Separation","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Manifest policy-level blueprint defines workflow (stages states), executes. actual execution (orchestration, logging, state management) handled Scheduler Context Runtime layer.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"","code":"# Create a valid manifest mp <- MasterPolicy(   name = \"example\", version = \"1.0.0\",   stages = c(\"idle\", \"triage\"), parameters = list() ) sp1 <- StatePolicy(   name = \"state1\", stage = \"idle\",   description = \"idle state\", agent_id = \"agent1\" ) sp2 <- StatePolicy(   name = \"state2\", stage = \"triage\",   description = \"triage state\", agent_id = \"agent2\" ) mf <- Manifest(master = mp, states = list(sp1, sp2)) mf #> Manifest (S7 class) - `example` (1.0.0) #>  #> Master policy stages:  #>   idle, triage #>  #> State `idle` #>   - State: `state1` (priority: 100) #> State `triage` #>   - State: `state2` (priority: 100)"},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":null,"dir":"Reference","previous_headings":"","what":"Master Workflow Policy Defining Stages and Version — MasterPolicy","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"Concrete policy defines overall workflow version set allowed stages. Inherits BasePolicy.","code":""},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"","code":"MasterPolicy(   name = character(0),   description = character(0),   version = character(0),   stages = c(\"triage\", \"planning\", \"executing\"),   parameters = list() )"},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"name Character. Name policy (non-blank). description Character. Human-readable description. version Character. Version string validated property_version(). stages Character vector. Non-empty, lower-cased, unique, element may contain letters, digits, underscores dashes. parameters List. Additional free-form parameters workflow.","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"stages-as-workflow-vocabulary","dir":"Reference","previous_headings":"","what":"Stages as Workflow Vocabulary","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"stages property defines symbolic vocabulary workflow phases (e.g., \"triage\", \"planning\", \"executing\"). macro-level phase names must implemented least one StatePolicy object Manifest.","code":""},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"stage-naming-conventions","dir":"Reference","previous_headings":"","what":"Stage Naming Conventions","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"Stages automatically converted lowercase consistency Must contain letters (-z), digits (0-9), underscores (_), dashes (-) Must unique (case-insensitive) within workflow blank NA","code":""},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"immutability","dir":"Reference","previous_headings":"","what":"Immutability","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"MasterPolicy objects immutable (S7 value semantics). created, serve stable reference Contract objects. Use @ accessor read properties (e.g., policy@stages).","code":""},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"","code":"MasterPolicy(   name = \"example\",   version = \"1.0.0\",   stages = c(\"idle\", \"triage\", \"planning\"),   parameters = list() ) #> MasterPolicy (S7 class) - `example`(1.0.0) #> Stages: idle, triage, planning"},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":null,"dir":"Reference","previous_headings":"","what":"Workflow Execution Scheduler — Scheduler","title":"Workflow Execution Scheduler — Scheduler","text":"R6 class orchestrates workflow execution managing stage progression, state execution, agent coordination. primary runtime component Runtime Layer (Tier 2) brings together immutable policy definitions (Manifest) executable agents.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Workflow Execution Scheduler — Scheduler","text":"manifest Manifest, workflow blueprint agents fastmap::fastmap() object, registry Agent objects keyed agent_id context Context, execution environment logging storage current_stage character, currently executing stage name stage_started POSIXct, timestamp current stage started current_state character, currently executing state name state_started POSIXct, timestamp current state started suspended logical, whether execution paused","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Workflow Execution Scheduler — Scheduler","text":"Scheduler$new() Scheduler$validate() Scheduler$start() Scheduler$init_resources() Scheduler$run_stage() Scheduler$suspend() Scheduler$stop()","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Workflow Execution Scheduler — Scheduler","text":"Initialize scheduler manifest blueprint agents","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Workflow Execution Scheduler — Scheduler","text":"","code":"Scheduler$new(manifest, agents = list(), context = AgentContext$new())"},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Workflow Execution Scheduler — Scheduler","text":"manifest Manifest object, workflow blueprint agents list, collection Agent objects context Context object, execution environment (default: new AgentContext)","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"method-validate-","dir":"Reference","previous_headings":"","what":"Method validate()","title":"Workflow Execution Scheduler — Scheduler","text":"Verify required agents registered","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Workflow Execution Scheduler — Scheduler","text":"","code":"Scheduler$validate(on_error = c(\"error\", \"quiet\"))"},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Workflow Execution Scheduler — Scheduler","text":"on_error character, action validation failure (\"error\" \"quiet\")","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"method-start-","dir":"Reference","previous_headings":"","what":"Method start()","title":"Workflow Execution Scheduler — Scheduler","text":"Start workflow execution ready stage","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Workflow Execution Scheduler — Scheduler","text":"","code":"Scheduler$start()"},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"method-init-resources-","dir":"Reference","previous_headings":"","what":"Method init_resources()","title":"Workflow Execution Scheduler — Scheduler","text":"Initialize resources prepare execution","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Workflow Execution Scheduler — Scheduler","text":"","code":"Scheduler$init_resources(reset_context = FALSE)"},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Workflow Execution Scheduler — Scheduler","text":"reset_context logical, whether reset context storage","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"method-run-stage-","dir":"Reference","previous_headings":"","what":"Method run_stage()","title":"Workflow Execution Scheduler — Scheduler","text":"Execute specific workflow stage","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Workflow Execution Scheduler — Scheduler","text":"","code":"Scheduler$run_stage(stage = NULL)"},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Workflow Execution Scheduler — Scheduler","text":"stage character, stage name (NULL run next stage)","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"method-suspend-","dir":"Reference","previous_headings":"","what":"Method suspend()","title":"Workflow Execution Scheduler — Scheduler","text":"Suspend workflow execution","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Workflow Execution Scheduler — Scheduler","text":"","code":"Scheduler$suspend()"},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"method-stop-","dir":"Reference","previous_headings":"","what":"Method stop()","title":"Workflow Execution Scheduler — Scheduler","text":"Stop workflow execution","code":""},{"path":"http://dipterix.org/tricobbler/reference/Scheduler.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Workflow Execution Scheduler — Scheduler","text":"","code":"Scheduler$stop()"},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":null,"dir":"Reference","previous_headings":"","what":"State-Level Policy Implementation for Workflow Stages — StatePolicy","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"Represents single workflow state. Inherits BasePolicy adds mandatory stage must match one stages defined MasterPolicy. Includes priority criticality flags execution ordering multiple states share stage.","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"","code":"StatePolicy(   name = character(0),   description = character(0),   stage = character(0),   agent_id = character(0),   resources = character(0),   parameters = list(),   max_retry = 0L,   priority = 100L,   critical = FALSE,   final = FALSE,   on_failure = NA_character_ )"},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"name character, name state policy (non-blank) description character, human-readable description stage character, must non-blank single string agent_id character, unique identifier agent responsible executing state. Must contain letters, digits, underscores, dashes resources character vector, tools agent may call execution (default empty vector) parameters list, optional state-specific parameters max_retry integer, maximum total attempts (initial + retries) state stage execution (default 0, meaning single attempt). max_retry limit applies globally across re-entries state within stage. on_failure set, state retry locally jump failure handler immediately. on_failure NA, local retries max_retry attempted moving next state priority integer, execution priority (0-999, default 100). Higher values run first (999 = highest priority, 0 = lowest). Used multiple states share stage. NA NULL treated 100 critical logical, TRUE, states lower priority execute state fails (default FALSE). Critical states must priority >= 1 share priority code states final logical, TRUE validation succeeds, skip remaining states workflow (default FALSE) on_failure character, name state jump first failure (default NA retry locally max_retry times). set, failures trigger immediate jump specified state without local retries. max_retry limit still applies globally prevent infinite loops: state re-entered total attempts exceed max_retry, execution stops error. Common patterns: validation loops (on_failure = \"executor\"), alternative strategies (on_failure = \"slower_alternative\"), repair chains (on_failure = \"repair_step\")","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"stages-vs-states","dir":"Reference","previous_headings":"","what":"Stages vs States","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"Stage (macro): workflow phase name MasterPolicy@stages (e.g., \"executing\") State (micro): concrete StatePolicy implementation stage Multiple states can reference stage different execution patterns","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"priority-system-and-execution-patterns","dir":"Reference","previous_headings":"","what":"Priority System and Execution Patterns","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"multiple states share stage, execution pattern depends priority: Range: 0 (lowest) 999 (highest) Default: 100 (priority = NA NULL) Execution order: States run sequentially priority (higher first)","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"critical-flag-enforcing-sequential-execution","dir":"Reference","previous_headings":"","what":"Critical Flag: Enforcing Sequential Execution","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"critical flag enforces sequential execution fail-fast semantics: critical = TRUE, state must execute succeed lower-priority states stage can run critical state fails, lower-priority states skipped entirely Critical states must unique priority (enforced Manifest) Critical states must priority >= 1 (lowest priority 0) Critical states share priority value states stage (enforced Manifest validation) Use case: Required validation gates must pass alternatives run","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"when-to-use-multiple-states-per-stage","dir":"Reference","previous_headings":"","what":"When to Use Multiple States Per Stage","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"Create multiple StatePolicy objects stage need: Fallback chains: Different priorities create ordered execution alternative strategies Alternative implementations: Multiple states stage execution alternative strategies (e.g., primary approach -> fallback -> last resort) Critical validation gates: Critical state must succeed lower-priority alternatives execute (enforces sequential, fail-fast semantics) Phased deployment: Gradually shift priority new implementations mature","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"","code":"# Basic state StatePolicy(   name = \"state1\",   stage = \"idle\",   description = \"initial idle state\",   agent_id = \"agent1\",   parameters = list() ) #> StatePolicy (S7 class) - `state1` (idle) #> initial idle state  # Critical high-priority state StatePolicy(   name = \"validator\",   stage = \"executing\",   description = \"critical validation step\",   agent_id = \"validator_agent\",   priority = 900,   critical = TRUE ) #> StatePolicy (S7 class) - `validator` (executing) #> critical validation step"},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":null,"dir":"Reference","previous_headings":"","what":"Read or Write Manifest from or to a YAML File — manifest-file","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"Serialize read Manifest objects YAML files. enables version control sharing workflow policy definitions. resulting YAML files human-readable can edited manually, though changes must still pass validation read back. manifest_write() serializes Manifest object YAML file. manifest_read() reads YAML file back validated Manifest object, reconstructing MasterPolicy StatePolicy objects enforcing validation rules (e.g., every stage must corresponding state).","code":""},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"","code":"manifest_write(x, file, ...)  manifest_read(file, ...)"},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"x Manifest object serialize (manifest_write) file Character. Path YAML file (input manifest_read, output manifest_write). ... Additional arguments passed yaml::read_yaml() yaml::write_yaml().","code":""},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"manifest_write(): Invisibly returns path written file. manifest_read(): validated Manifest object","code":""},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"","code":"# Create a manifest mp <- MasterPolicy(   name = \"demo-workflow\",   version = \"1.0.0\",   stages = c(\"idle\", \"working\"),   parameters = list(timeout = 300) ) sp1 <- StatePolicy(   name = \"init\", stage = \"idle\",   description = \"Initial state\", agent_id = \"agent_init\" ) sp2 <- StatePolicy(   name = \"process\", stage = \"working\",   description = \"Processing state\", agent_id = \"agent_process\" ) manifest <- Manifest(master = mp, states = list(sp1, sp2))  # Write to temporary file tmp <- tempfile(fileext = \".yaml\") manifest_write(manifest, tmp)  # Verify file exists file.exists(tmp) #> [1] TRUE  # Read it back manifest2 <- manifest_read(tmp)  # Verify the name matches manifest2@name == \"demo-workflow\" #> [1] TRUE  # Clean up unlink(tmp)"},{"path":"http://dipterix.org/tricobbler/reference/mcp-tools.html","id":null,"dir":"Reference","previous_headings":"","what":"MCP tool extraction and type inference — mcp-tools","title":"MCP tool extraction and type inference — mcp-tools","text":"MCP tool extraction type inference","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcp_context.html","id":null,"dir":"Reference","previous_headings":"","what":"Add Context to Chat Messages — mcp_context","title":"Add Context to Chat Messages — mcp_context","text":"Formats R objects combines optional text provide context chat messages. Similar btw::btw(), function wraps formatted output structured format chat models can easily understand. function uses mcp_describe internally format objects human-readable text, wraps output code blocks returns ellmer::ContentText object suitable use ellmer::Chat$chat().","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcp_context.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add Context to Chat Messages — mcp_context","text":"","code":"mcp_context(..., .header = \"## Context\", .wrap_code = TRUE)"},{"path":"http://dipterix.org/tricobbler/reference/mcp_context.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add Context to Chat Messages — mcp_context","text":"... R objects format, character strings include. argument formatted using mcp_describe() unless plain text string. .header Character string context header. Default: \"## Context\" .wrap_code Logical. Whether wrap non-text objects code blocks. Default: TRUE","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcp_context.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add Context to Chat Messages — mcp_context","text":"ellmer::ContentText object containing formatted context. object can passed directly chat$chat().","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcp_context.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Add Context to Chat Messages — mcp_context","text":"function processes argument follows: Package references like \"{packagename}\" expanded show help topics package JSON format Plain text strings (single character vectors) used -R objects formatted using mcp_describe() Formatted objects wrapped code blocks .wrap_code = TRUE parts combined header single text block resulting ContentText object compatible ellmer chat functions automatically processed passed chat$chat().","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/mcp_context.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add Context to Chat Messages — mcp_context","text":"","code":"# Single object mcp_context(sessionInfo()) #> <ellmer::ContentText> #>  @ text: chr \"## Context\\n\\n```r\\nR version 4.5.2 (2025-10-31)\\n```\\n```r\\nPlatform: x86_64-pc-linux-gnu\\n```\\n```r\\nRunning \"| __truncated__  # Package help topics mcp_context(\"{tricobbler}\") #> <ellmer::ContentText> #>  @ text: chr \"## Context\\n\\n{tricobbler}\\n```json\\n[{\\\"topic_id\\\":[\\\"Agent\\\"],\\\"title\\\":[\\\"Agent Function Wrapper for State E\"| __truncated__  # Multiple objects with question mcp_context(sessionInfo(), mtcars, \"What packages and data are available?\") #> <ellmer::ContentText> #>  @ text: chr \"## Context\\n\\n```r\\nR version 4.5.2 (2025-10-31)\\n```\\n```r\\nPlatform: x86_64-pc-linux-gnu\\n```\\n```r\\nRunning \"| __truncated__  if (FALSE) { # \\dontrun{ # Use in chat chat <- ellmer::chat_anthropic() response <- chat$chat(   mcp_context(sessionInfo(), \"What R version am I using?\") ) } # }"},{"path":"http://dipterix.org/tricobbler/reference/mcp_describe.html","id":null,"dir":"Reference","previous_headings":"","what":"Describe an R object for use in MCP tools — mcp_describe","title":"Describe an R object for use in MCP tools — mcp_describe","text":"generic function used describe R object way can safely serialized JSON sent MCP clients. Unlike direct serialization, function handles special objects (environments, external pointers, large objects) generating human-readable descriptions.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcp_describe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Describe an R object for use in MCP tools — mcp_describe","text":"","code":"mcp_describe(x, ..., max_print = 100)"},{"path":"http://dipterix.org/tricobbler/reference/mcp_describe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Describe an R object for use in MCP tools — mcp_describe","text":"x object describe. ... Additional arguments passed underlying methods. Unused arguments silently ignored. max_print Maximum number items print long objects. Default 100.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcp_describe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Describe an R object for use in MCP tools — mcp_describe","text":"character vector lines describing object. object simple scalar, may return single-element character vector.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcp_describe.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Describe an R object for use in MCP tools — mcp_describe","text":"","code":"# Describe a data frame mcp_describe(mtcars) #>  [1] \"                   mpg cyl  disp  hp drat    wt  qsec vs am gear carb\" #>  [2] \"Mazda RX4         21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4\" #>  [3] \"Mazda RX4 Wag     21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4\" #>  [4] \"Datsun 710        22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1\" #>  [5] \"Hornet 4 Drive    21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1\" #>  [6] \"Hornet Sportabout 18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2\" #>  [7] \"Valiant           18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1\" #>  [8] \"Duster 360        14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4\" #>  [9] \"Merc 240D         24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2\" #> [10] \"Merc 230          22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2\" #> [11] \" [ reached 'max' / getOption(\\\"max.print\\\") -- omitted 23 rows ]\"       # Describe a function mcp_describe(mean) #> [1] \"function (x, ...) \"  \"UseMethod(\\\"mean\\\")\"  # Describe a matrix mcp_describe(matrix(1:12, 3, 4)) #> [1] \"     [,1] [,2] [,3] [,4]\" \"[1,]    1    4    7   10\" #> [3] \"[2,]    2    5    8   11\" \"[3,]    3    6    9   12\""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_build.html","id":null,"dir":"Reference","previous_headings":"","what":"Build MCP Tool Definitions from Package Documentation — mcptool_build","title":"Build MCP Tool Definitions from Package Documentation — mcptool_build","text":"Helper function developers scan package's R source files functions marked @keywords mcp-tool generates YAML tool definitions inst/mcp/tools/. Run documenting package.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_build.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Build MCP Tool Definitions from Package Documentation — mcptool_build","text":"","code":"mcptool_build(path = \".\", verbose = TRUE)"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_build.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Build MCP Tool Definitions from Package Documentation — mcptool_build","text":"path Character. Path package root directory (default: .) verbose Logical. Print progress messages (default: TRUE)","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_build.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Build MCP Tool Definitions from Package Documentation — mcptool_build","text":"Invisibly returns list generated tool definitions","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_build.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Build MCP Tool Definitions from Package Documentation — mcptool_build","text":"","code":"if (FALSE) { # \\dontrun{  # After documenting your package `devtools::document()`  mcptool_build()  } # }"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_instantiate.html","id":null,"dir":"Reference","previous_headings":"","what":"Instantiate from RAVE MCP tool definition — mcptool_instantiate","title":"Instantiate from RAVE MCP tool definition — mcptool_instantiate","text":"Create ellmer tool object loaded RAVE MCP tool definition. allows using RAVE pipelines tools directly via ellmer package.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_instantiate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Instantiate from RAVE MCP tool definition — mcptool_instantiate","text":"","code":"mcptool_instantiate(tool, ..., state_env = NULL)"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_instantiate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Instantiate from RAVE MCP tool definition — mcptool_instantiate","text":"tool object class tricobbler_mcp_tool (loaded via mcptool_read mcptool_load_all). ... Additional arguments passed tool. state_env Environment NULL (default). Environment tools share store data; see mcptool_state_factory","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_instantiate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Instantiate from RAVE MCP tool definition — mcptool_instantiate","text":"ToolDef object ready registered chat session.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_list.html","id":null,"dir":"Reference","previous_headings":"","what":"List MCP tool names from a package or directory — mcptool_list","title":"List MCP tool names from a package or directory — mcptool_list","text":"Lists available MCP tool names package directory. lightweight wrapper around mcptool_load_all returns tool names without loading full definitions.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"List MCP tool names from a package or directory — mcptool_list","text":"","code":"mcptool_list(pkg, groups = NULL)"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"List MCP tool names from a package or directory — mcptool_list","text":"pkg Character. Package name path tools directory. pkg contains path separators, space, '.', treated directory path. Otherwise, treated package name. groups Character vector NULL. Optional group filter(s) list tools specific group(s). Groups extracted tool names following pattern pkg-mcp_tool_{group}_{action}. group can regexp pattern. NULL (default), tools listed.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List MCP tool names from a package or directory — mcptool_list","text":"Character vector tool names (format pkg-function_name). Returns empty character vector tools found.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"List MCP tool names from a package or directory — mcptool_list","text":"","code":"# List all tools from package mcptool_list(\"tricobbler\") #>  [1] \"tricobbler-mcp_tool_config_set_outputs\"        #>  [2] \"tricobbler-mcp_tool_context_attachment_exists\" #>  [3] \"tricobbler-mcp_tool_context_attachment_get\"    #>  [4] \"tricobbler-mcp_tool_context_attachment_list\"   #>  [5] \"tricobbler-mcp_tool_context_logs_head\"         #>  [6] \"tricobbler-mcp_tool_context_logs_search\"       #>  [7] \"tricobbler-mcp_tool_context_logs_tail\"         #>  [8] \"tricobbler-mcp_tool_docs_available_vignettes\"  #>  [9] \"tricobbler-mcp_tool_docs_help_page\"            #> [10] \"tricobbler-mcp_tool_docs_package_help_topics\"  #> [11] \"tricobbler-mcp_tool_docs_vignette\"             #> [12] \"tricobbler-mcp_tool_read_package_file\"         #> [13] \"tricobbler-mcp_tool_run_r\"                     #> [14] \"tricobbler-mcp_tool_search_package_files\"      #> [15] \"tricobbler-mcp_tool_search_package_info\"       #> [16] \"tricobbler-mcp_tool_search_packages\"            # List only pipeline group tools mcptool_list(\"tricobbler\", groups = \"pipeline\") #> NULL  # List multiple groups mcptool_list(\"tricobbler\", groups = c(\"pipeline\", \"config\")) #> [1] \"tricobbler-mcp_tool_config_set_outputs\"  # Or list tools from directory path <- system.file(\"mcp\", \"tools\", package = \"tricobbler\") mcptool_list(path) #>  [1] \"tricobbler-mcp_tool_config_set_outputs\"        #>  [2] \"tricobbler-mcp_tool_context_attachment_exists\" #>  [3] \"tricobbler-mcp_tool_context_attachment_get\"    #>  [4] \"tricobbler-mcp_tool_context_attachment_list\"   #>  [5] \"tricobbler-mcp_tool_context_logs_head\"         #>  [6] \"tricobbler-mcp_tool_context_logs_search\"       #>  [7] \"tricobbler-mcp_tool_context_logs_tail\"         #>  [8] \"tricobbler-mcp_tool_docs_available_vignettes\"  #>  [9] \"tricobbler-mcp_tool_docs_help_page\"            #> [10] \"tricobbler-mcp_tool_docs_package_help_topics\"  #> [11] \"tricobbler-mcp_tool_docs_vignette\"             #> [12] \"tricobbler-mcp_tool_read_package_file\"         #> [13] \"tricobbler-mcp_tool_run_r\"                     #> [14] \"tricobbler-mcp_tool_search_package_files\"      #> [15] \"tricobbler-mcp_tool_search_package_info\"       #> [16] \"tricobbler-mcp_tool_search_packages\""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_load_all.html","id":null,"dir":"Reference","previous_headings":"","what":"Load MCP Tool Definitions from Package or Directory — mcptool_load_all","title":"Load MCP Tool Definitions from Package or Directory — mcptool_load_all","text":"Load MCP Tool Definitions Package Directory","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_load_all.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Load MCP Tool Definitions from Package or Directory — mcptool_load_all","text":"","code":"mcptool_load_all(pkg, groups = NULL)"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_load_all.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Load MCP Tool Definitions from Package or Directory — mcptool_load_all","text":"pkg Character. Package name path tools directory. pkg contains path separators, space, ., treated directory path. Otherwise, treated package name. groups Character vector NULL. Optional group filter(s) load tools specific group(s). Groups extracted tool names following pattern pkg-mcp_tool_{group}_{action}. group can regexp pattern. example, \"pipeline\", \"config\", \"(pipeline|config)\". NULL (default), tools loaded.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_load_all.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Load MCP Tool Definitions from Package or Directory — mcptool_load_all","text":"List MCP tool definitions","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_load_all.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Load MCP Tool Definitions from Package or Directory — mcptool_load_all","text":"","code":"# Load all tools from package tools <- mcptool_load_all(\"tricobbler\")  # Load only pipeline group tools pipeline_tools <- mcptool_load_all(\"tricobbler\", groups = \"pipeline\")  # Load multiple groups tools <- mcptool_load_all(\"tricobbler\", groups = c(\"pipeline\", \"config\"))  # Load from directory path <- system.file(\"mcp\", \"tools\", package = \"tricobbler\") tools <- mcptool_load_all(path)"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Find path to a specific MCP tool by name — mcptool_path","title":"Find path to a specific MCP tool by name — mcptool_path","text":"Locates MCP tool YAML file either installed package local directory. Tool names use pkg-function_name format first hyphen separates package name function name. Returns file path tool definition attached attribute.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Find path to a specific MCP tool by name — mcptool_path","text":"","code":"mcptool_path(tool_name, tools_dir = \"../tools\")"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Find path to a specific MCP tool by name — mcptool_path","text":"tool_name Character. Tool name format pkg-function_name. first hyphen separates package name function name (function names may contain hyphens). tools_dir Character. Path root directory local tools look-. Default \"../tools\" (relative workflows directory).","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Find path to a specific MCP tool by name — mcptool_path","text":"Character string containing path tool YAML file, attribute mcp_definition containing parsed tool definition. Throws error tool found.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_path.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Find path to a specific MCP tool by name — mcptool_path","text":"","code":"# Find tool from package tool_path <- mcptool_path(\"tricobbler-mcp_tool_search_packages\") attr(tool_path, \"mcp_definition\") #> $name #> [1] \"tricobbler-mcp_tool_search_packages\" #>  #> $description #> [1] \"Search for R packages that match a keyword or pattern in their name, title, or description. Searches CRAN package database for matches. Useful for discovering packages related to a specific topic.\" #>  #> $parameters #> $parameters$type #> [1] \"object\" #>  #> $parameters$properties #> $parameters$properties$max_results #> $parameters$properties$max_results$type #> [1] \"integer\" #>  #> $parameters$properties$max_results$description #> [1] \"Maximum number of results to return. Default is 20. Use this to limit output size for broad searches. Example values: 10, 50, 100.\" #>  #> $parameters$properties$max_results$default #> [1] 20 #>  #> $parameters$properties$max_results$examples #> [1] \"10\"  \"50\"  \"100\" #>  #>  #> $parameters$properties$query #> $parameters$properties$query$type #> [1] \"string\" #>  #> $parameters$properties$query$description #> [1] \"The search query. Can be a keyword, partial package name, or topic. The search is case-insensitive and matches against package names, titles, and descriptions. Examples: \\\"pipeline\\\", \\\"visualization\\\", \\\"data\\\".\" #>  #>  #>  #> $parameters$required #> [1] \"query\" #>  #>  #> $category #> [1] \"discovery\" #>  #> $returns #> $returns$type #> [1] \"object\" #>  #> $returns$properties #> $returns$properties$error #> $returns$properties$error$type #> [1] \"string\" #>  #> $returns$properties$error$description #> [1] \"Character, error message if success is FALSE\" #>  #>  #> $returns$properties$returned #> $returns$properties$returned$type #> [1] \"integer\" #>  #> $returns$properties$returned$description #> [1] \"Integer, number of results returned (limited by max_results)\" #>  #>  #> $returns$properties$count #> $returns$properties$count$type #> [1] \"integer\" #>  #> $returns$properties$count$description #> [1] \"Integer, total number of packages matching the query\" #>  #>  #> $returns$properties$packages #> $returns$properties$packages$type #> [1] \"object\" #>  #> $returns$properties$packages$description #> [1] \"Data frame with columns package (package name), version (version string), title (package title), description (brief description), date (publication date), and maintainer (maintainer name)\" #>  #>  #> $returns$properties$query #> $returns$properties$query$type #> [1] \"string\" #>  #> $returns$properties$query$description #> [1] \"Character, the search query that was used\" #>  #>  #> $returns$properties$success #> $returns$properties$success$type #> [1] \"boolean\" #>  #> $returns$properties$success$description #> [1] \"Logical, whether the search completed successfully\" #>  #>  #>  #>  #> $implementation_example #> [1] \"# Example output from calling the tool\\ntricobbler:::mcp_tool_search_packages(\\\"tricobbler\\\")\\n#\\n#> $success\\n#> [1] TRUE\\n#> \\n#> $query\\n#> [1] \\\"tricobbler\\\"\\n#> \\n#> $packages\\n#> [1] package     version     title       description date        maintainer \\n#> <0 rows> (or 0-length row.names)\\n#> \\n#> $count\\n#> [1] 0\\n#> \\n#> $returned\\n#> [1] 0\\n#> \\n#> $message\\n#> [1] \\\"No packages found matching query: tricobbler\\\"\\n#>\\n\" #>  #> $execution_time #> [1] 0.437 #>  #> attr(,\"class\") #> [1] \"tricobbler_mcp_tool\" \"list\"                  if (FALSE) { # \\dontrun{  # Simple tool name (looks in tools_dir only) tool_path <- mcptool_path(\"my_tool\", tools_dir = \"./tools\")  } # }"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_read.html","id":null,"dir":"Reference","previous_headings":"","what":"Read MCP tool definition from YAML file — mcptool_read","title":"Read MCP tool definition from YAML file — mcptool_read","text":"Reads parses MCP tool definition YAML file. low-level function used internally mcptool_load_all mcptool_path.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_read.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read MCP tool definition from YAML file — mcptool_read","text":"","code":"mcptool_read(path, check = FALSE, resolve = TRUE)"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_read.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read MCP tool definition from YAML file — mcptool_read","text":"path Character. Path YAML file containing tool definition. check Logical. Whether check function definition exists; default FALSE resolve Logical. Whether try resolving path, allowing package tools loaded package-function_name syntax; default TRUE; set FALSE path treated file path without resolving.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_read.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read MCP tool definition from YAML file — mcptool_read","text":"List containing parsed tool definition. Throws error file read parsed.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_read.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read MCP tool definition from YAML file — mcptool_read","text":"","code":"# Read directly from package using MCP tool name mcptool_read(\"tricobbler-mcp_tool_search_packages\") #> $name #> [1] \"tricobbler-mcp_tool_search_packages\" #>  #> $description #> [1] \"Search for R packages that match a keyword or pattern in their name, title, or description. Searches CRAN package database for matches. Useful for discovering packages related to a specific topic.\" #>  #> $parameters #> $parameters$type #> [1] \"object\" #>  #> $parameters$properties #> $parameters$properties$max_results #> $parameters$properties$max_results$type #> [1] \"integer\" #>  #> $parameters$properties$max_results$description #> [1] \"Maximum number of results to return. Default is 20. Use this to limit output size for broad searches. Example values: 10, 50, 100.\" #>  #> $parameters$properties$max_results$default #> [1] 20 #>  #> $parameters$properties$max_results$examples #> [1] \"10\"  \"50\"  \"100\" #>  #>  #> $parameters$properties$query #> $parameters$properties$query$type #> [1] \"string\" #>  #> $parameters$properties$query$description #> [1] \"The search query. Can be a keyword, partial package name, or topic. The search is case-insensitive and matches against package names, titles, and descriptions. Examples: \\\"pipeline\\\", \\\"visualization\\\", \\\"data\\\".\" #>  #>  #>  #> $parameters$required #> [1] \"query\" #>  #>  #> $category #> [1] \"discovery\" #>  #> $returns #> $returns$type #> [1] \"object\" #>  #> $returns$properties #> $returns$properties$error #> $returns$properties$error$type #> [1] \"string\" #>  #> $returns$properties$error$description #> [1] \"Character, error message if success is FALSE\" #>  #>  #> $returns$properties$returned #> $returns$properties$returned$type #> [1] \"integer\" #>  #> $returns$properties$returned$description #> [1] \"Integer, number of results returned (limited by max_results)\" #>  #>  #> $returns$properties$count #> $returns$properties$count$type #> [1] \"integer\" #>  #> $returns$properties$count$description #> [1] \"Integer, total number of packages matching the query\" #>  #>  #> $returns$properties$packages #> $returns$properties$packages$type #> [1] \"object\" #>  #> $returns$properties$packages$description #> [1] \"Data frame with columns package (package name), version (version string), title (package title), description (brief description), date (publication date), and maintainer (maintainer name)\" #>  #>  #> $returns$properties$query #> $returns$properties$query$type #> [1] \"string\" #>  #> $returns$properties$query$description #> [1] \"Character, the search query that was used\" #>  #>  #> $returns$properties$success #> $returns$properties$success$type #> [1] \"boolean\" #>  #> $returns$properties$success$description #> [1] \"Logical, whether the search completed successfully\" #>  #>  #>  #>  #> $implementation_example #> [1] \"# Example output from calling the tool\\ntricobbler:::mcp_tool_search_packages(\\\"tricobbler\\\")\\n#\\n#> $success\\n#> [1] TRUE\\n#> \\n#> $query\\n#> [1] \\\"tricobbler\\\"\\n#> \\n#> $packages\\n#> [1] package     version     title       description date        maintainer \\n#> <0 rows> (or 0-length row.names)\\n#> \\n#> $count\\n#> [1] 0\\n#> \\n#> $returned\\n#> [1] 0\\n#> \\n#> $message\\n#> [1] \\\"No packages found matching query: tricobbler\\\"\\n#>\\n\" #>  #> $execution_time #> [1] 0.437 #>  #> attr(,\"class\") #> [1] \"tricobbler_mcp_tool\" \"list\"                  path <- system.file(   \"mcp\", \"tools\", \"tricobbler-mcp_tool_search_packages.yaml\",   package = \"tricobbler\" )  tool_def <- mcptool_read(path, resolve = FALSE)  # Check tool name and description tool_def$name #> [1] \"tricobbler-mcp_tool_search_packages\" tool_def$description #> [1] \"Search for R packages that match a keyword or pattern in their name, title, or description. Searches CRAN package database for matches. Useful for discovering packages related to a specific topic.\""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_state_factory.html","id":null,"dir":"Reference","previous_headings":"","what":"Create Session-Scoped MCP State Environment — mcptool_state_factory","title":"Create Session-Scoped MCP State Environment — mcptool_state_factory","text":"Factory function creates isolated state environments MCP tool sessions. session maintains independent pipeline context, eliminating cross-contamination concurrent chats users.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_state_factory.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create Session-Scoped MCP State Environment — mcptool_state_factory","text":"","code":"mcptool_state_factory(initialize = NULL, force_init = FALSE, .state = NULL)"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_state_factory.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create Session-Scoped MCP State Environment — mcptool_state_factory","text":"initialize Optional function initialize session state. accept environment first argument perform required setup force_init Logical. TRUE, runs initialize function even environment appears already initialized. Default FALSE. .state Optional existing environment use. provided, validated potentially initialized. NULL, creates new environment","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_state_factory.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create Session-Scoped MCP State Environment — mcptool_state_factory","text":"environment class \"tricobbler_mcp_session_state\" methods available key-value storage: reset() Remove objects map set(key, value) Set key-value pair. Returns value get(key, missing = NULL) Get value key. Returns missing key found mget(keys, missing = NULL) Get multiple values keys (key) Check key exists. Returns TRUE FALSE remove(key) Remove key-value pair keys(sort = FALSE) Get keys size() Get number items map clone() Return shallow copy map as_list(sort = FALSE) Return named list key-value pairs internal variables: .initialized Logical flag indicating initialization status .stores underlying object persists key-values Parent environment contains read-shared variables: .platform Platform information .Platform .interactive Whether session interactive .session_info Session information sessionInfo()","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_state_factory.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create Session-Scoped MCP State Environment — mcptool_state_factory","text":"","code":"# Create a fresh session state state1 <- mcptool_state_factory() state1$set(\"current_pipeline\", \"my_pipeline\") state1$.initialized  # TRUE #> [1] TRUE  # Create with initialization init_fn <- function(env) {   env$set(\"work_path\", getwd()) } state2 <- mcptool_state_factory(initialize = init_fn) state2$get(\"work_path\") #> [1] \"/home/runner/work/tricobbler/tricobbler/docs/reference\"  # Reuse existing environment state3 <- mcptool_state_factory(.state = state1) identical(state1, state3)  # TRUE #> [1] TRUE  # Access shared read-only parent variables get(\".platform\", state1) #> $OS.type #> [1] \"unix\" #>  #> $file.sep #> [1] \"/\" #>  #> $dynlib.ext #> [1] \".so\" #>  #> $GUI #> [1] \"X11\" #>  #> $endian #> [1] \"little\" #>  #> $pkgType #> [1] \"source\" #>  #> $path.sep #> [1] \":\" #>  #> $r_arch #> [1] \"\" #>  get(\".session_info\", state1) #> R version 4.5.2 (2025-10-31) #> Platform: x86_64-pc-linux-gnu #> Running under: Ubuntu 24.04.3 LTS #>  #> Matrix products: default #> BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3  #> LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0 #>  #> locale: #>  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8        #>  [4] LC_COLLATE=C           LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8    #>  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C           #> [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C    #>  #> time zone: UTC #> tzcode source: system (glibc) #>  #> attached base packages: #> [1] stats     graphics  grDevices utils     datasets  methods   base      #>  #> other attached packages: #> [1] tricobbler_0.0.0.9000 #>  #> loaded via a namespace (and not attached): #>  [1] jsonlite_2.0.0    compiler_4.5.2    xml2_1.5.2        jquerylib_0.1.4   #>  [5] textshaping_1.0.4 systemfonts_1.3.1 yaml_2.3.12       fastmap_1.2.0     #>  [9] R6_2.6.1          curl_7.0.0        httr2_1.2.2       knitr_1.51        #> [13] tibble_3.3.1      ellmer_0.4.0      desc_1.4.3        openssl_2.3.4     #> [17] bslib_0.10.0      pillar_1.11.1     rlang_1.1.7       cachem_1.1.0      #> [21] xfun_0.56         S7_0.2.1          fs_1.6.6          sass_0.4.10       #> [25] otel_0.2.0        memoise_2.0.1     cli_3.6.5         pkgdown_2.2.0     #> [29] withr_3.0.2       magrittr_2.0.4    digest_0.6.39     fontawesome_0.5.3 #> [33] rappdirs_0.3.4    askpass_1.2.1     lifecycle_1.0.5   coro_1.1.0        #> [37] vctrs_0.7.1       downlit_0.4.5     evaluate_1.0.5    glue_1.8.0        #> [41] whisker_0.4.1     ragg_1.5.0        spelling_2.3.2    fansi_1.0.7       #> [45] rmarkdown_2.30    purrr_1.2.1       tools_4.5.2       pkgconfig_2.0.3   #> [49] htmltools_0.5.9"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_write.html","id":null,"dir":"Reference","previous_headings":"","what":"Write MCP tool definition to file — mcptool_write","title":"Write MCP tool definition to file — mcptool_write","text":"Writes MCP tool definition file either YAML Markdown format.","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_write.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Write MCP tool definition to file — mcptool_write","text":"","code":"mcptool_write(tool, path, method = c(\"yaml\", \"markdown\"), ...)"},{"path":"http://dipterix.org/tricobbler/reference/mcptool_write.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Write MCP tool definition to file — mcptool_write","text":"tool tricobbler_mcp_tool object path Character. Path output file method Character. Output format: \"yaml\" (default) \"markdown\" ... Additional arguments (currently unused)","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_write.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Write MCP tool definition to file — mcptool_write","text":"Invisibly returns input tool object","code":""},{"path":"http://dipterix.org/tricobbler/reference/mcptool_write.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Write MCP tool definition to file — mcptool_write","text":"","code":"# Load a tool from package path <- mcptool_path(\"tricobbler-mcp_tool_search_packages\") tool <- mcptool_read(path)  # Write as YAML to temporary file mcptool_write(tool, stdout(), method = \"yaml\") #> name: tricobbler-mcp_tool_search_packages #> description: Search for R packages that match a keyword or pattern in their name, #>   title, or description. Searches CRAN package database for matches. Useful for discovering #>   packages related to a specific topic. #> parameters: #>   type: object #>   properties: #>     max_results: #>       type: integer #>       description: 'Maximum number of results to return. Default is 20. Use this to #>         limit output size for broad searches. Example values: 10, 50, 100.' #>       default: 20.0 #>       examples: #>       - '10' #>       - '50' #>       - '100' #>     query: #>       type: string #>       description: 'The search query. Can be a keyword, partial package name, or topic. #>         The search is case-insensitive and matches against package names, titles, #>         and descriptions. Examples: \"pipeline\", \"visualization\", \"data\".' #>   required: query #> category: discovery #> returns: #>   type: object #>   properties: #>     error: #>       type: string #>       description: Character, error message if success is FALSE #>     returned: #>       type: integer #>       description: Integer, number of results returned (limited by max_results) #>     count: #>       type: integer #>       description: Integer, total number of packages matching the query #>     packages: #>       type: object #>       description: Data frame with columns package (package name), version (version #>         string), title (package title), description (brief description), date (publication #>         date), and maintainer (maintainer name) #>     query: #>       type: string #>       description: Character, the search query that was used #>     success: #>       type: boolean #>       description: Logical, whether the search completed successfully #> implementation_example: \"# Example output from calling the tool\\ntricobbler:::mcp_tool_search_packages(\\\"tricobbler\\\")\\n#\\n#> #>   $success\\n#> [1] TRUE\\n#> \\n#> $query\\n#> [1] \\\"tricobbler\\\"\\n#> \\n#> $packages\\n#> #>   [1] package     version     title       description date        maintainer \\n#> #>   <0 rows> (or 0-length row.names)\\n#> \\n#> $count\\n#> [1] 0\\n#> \\n#> $returned\\n#> #>   [1] 0\\n#> \\n#> $message\\n#> [1] \\\"No packages found matching query: tricobbler\\\"\\n#>\\n\" #> execution_time: 0.437  # Write as Markdown mcptool_write(tool, stdout(), method = \"markdown\") #> # tricobbler-mcp_tool_search_packages #>  #> Search for R packages that match a keyword or pattern in their name, title, or description. Searches CRAN package database for matches. Useful for discovering packages related to a specific topic. #>  #> ## Parameters #>  #> - **max_results** (integer, *optional*) #>   Maximum number of results to return. Default is 20. Use this to #>   limit output size for broad searches. Example values: 10, 50, 100. #>   Default: 20 #>  #> - **query** (string, **required**) #>   The search query. Can be a keyword, partial package name, or topic. #>   The search is case-insensitive and matches against package names, #>   titles, and descriptions. Examples: \"pipeline\", \"visualization\", #>   \"data\". #>  #> ## Returns #>  #> Type: `object` #>  #> ### Properties #>  #> - `error` (string): Character, error message if success is FALSE #>   Character, error message if success is FALSE #>  #> - `returned` (integer): Integer, number of results returned (limited by max_results) #>   Integer, number of results returned (limited by max_results) #>  #> - `count` (integer): Integer, total number of packages matching the query #>   Integer, total number of packages matching the query #>  #> - `packages` (object): Data frame with columns package (package name), version (version string), title (package title), description (brief description), date (publication date), and maintainer (maintainer name) #>   Data frame with columns package (package name), version (version #>   string), title (package title), description (brief description), #>   date (publication date), and maintainer (maintainer name) #>  #> - `query` (string): Character, the search query that was used #>   Character, the search query that was used #>  #> - `success` (boolean): Logical, whether the search completed successfully #>   Logical, whether the search completed successfully #>  #> ## Metadata #>  #> - **Category**: discovery #>"}]
