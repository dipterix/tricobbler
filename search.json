[{"path":"http://dipterix.org/tricobbler/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2026 tricobbler authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR description NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"http://dipterix.org/tricobbler/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Dipterix Wang. Author, maintainer.","code":""},{"path":"http://dipterix.org/tricobbler/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Wang D (2026). tricobbler: Multi-Agent Workflow Orchestration Immutable Policy Definitions. R package version 0.0.0.9000, http://dipterix.org/tricobbler/.","code":"@Manual{,   title = {tricobbler: Multi-Agent Workflow Orchestration with Immutable Policy Definitions},   author = {Dipterix Wang},   year = {2026},   note = {R package version 0.0.0.9000},   url = {http://dipterix.org/tricobbler/}, }"},{"path":[]},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"architecture-overview","dir":"","previous_headings":"","what":"Architecture Overview","title":"TriCobbler Package - Agent Guide","text":"Core Philosophy: Multi-agent workflow orchestration combining immutable policy definitions (S7) mutable execution state (R6).","code":""},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"three-layer-architecture","dir":"","previous_headings":"Architecture Overview","what":"Three-Layer Architecture","title":"TriCobbler Package - Agent Guide","text":"MasterPolicy: Workflow version + allowed stages (e.g., “triage”, “planning”, “executing”) StatePolicy: Individual state metadata (stage name, description, parameters) Manifest: Validates MasterPolicy stages corresponding StatePolicy entries ContractExecutor: Callable function wrapping LLM/script execution logic (inherits S7::class_function) StageContract: Per-stage execution spec (executor, tools, validators, retries, timeout, fallback) Contract: Master agreement linking Manifest StageContracts global resources SubContractState: Tracks one stage’s execution (status, attempts, /O, timing, validation) ContractState: Orchestrates stage states workflow progression Data Flow: User creates Manifest → User defines Contract executors/validators → System creates ContractState → System executes stages SubContractStates","code":""},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"the-tricobbler-trinity-wip","dir":"","previous_headings":"Architecture Overview","what":"The TriCobbler Trinity (WIP)","title":"TriCobbler Package - Agent Guide","text":"Specialized agents class010-baseagent.R: - BaseAgent: R6 wrapper around ellmer::Chat context window monitoring - Future: Planner, Worker, Librarian subclasses decomposition/execution/memory","code":""},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"code-conventions","dir":"","previous_headings":"","what":"Code Conventions","title":"TriCobbler Package - Agent Guide","text":"Class System: - S7 immutable structures (policies, contracts). Document @field properties - R6 mutable state agents. Document @field fields/active bindings - Never mix: S7 uses @ accessor, R6 uses $ ASCII-: Package must portable. Replace en-dashes (–) non-breaking hyphens (‑) ASCII -. Use tools::showNonASCIIfile(file) find violations. Formatting: 2-space indentation, tabs.","code":""},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"developer-workflows","dir":"","previous_headings":"","what":"Developer Workflows","title":"TriCobbler Package - Agent Guide","text":"Load & Test: Package Checks: Please try fix errors warnings. notes, please fix much can. notes irrelevate code “Checking CRAN incoming feasibility” “Unable verify time” can ignored. Documentation Rules: - S7 exported classes: @title, @description, @param (constructor args), @field (properties), @examples, @export - S7 internal/abstract: Add @keywords internal, omit @export - R6 classes: @title, @description, @field (public/active), @export - Never include set.seed() examples Adhoc Scripts: Use adhoc/ throwaway tests (committed tests/testthat)","code":"devtools::load_all()        # Load package before testing source(\"adhoc/test-contract-flow.R\")  # Run example workflow devtools::test()            # Run testthat suite rcmdcheck::rcmdcheck(args = c(\"--as-cran\", \"--run-donttest\"))      # Full R CMD check (ask before fixing issues); do NOT use devtools::check() devtools::document()        # Regenerate Rd files from roxygen2 spelling::spell_check_package()  # Check spellings (don't edit inst/WORDLIST)"},{"path":"http://dipterix.org/tricobbler/copilot-instructions.html","id":"key-integration-points","dir":"","previous_headings":"","what":"Key Integration Points","title":"TriCobbler Package - Agent Guide","text":"Dependencies: S7, R6, ellmer (LLM chat), yaml (config parsing). use base-R + DESCRIPTION imports. Validation Pattern: Contract validators return TRUE character error message (see adhoc/test-contract-flow.R)","code":""},{"path":"http://dipterix.org/tricobbler/index.html","id":"tricobbler","dir":"","previous_headings":"","what":"Multi-Agent Workflow Orchestration with Immutable Policy Definitions","title":"Multi-Agent Workflow Orchestration with Immutable Policy Definitions","text":"word tricobbler comes Chinese proverb emphasizing collaboration among ordinary people can surpass intelligence single genius. Three cobblers wits combined equal Zhuge Liang 三个臭皮匠，顶个诸葛亮 goal tricobbler combine ","code":""},{"path":"http://dipterix.org/tricobbler/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Multi-Agent Workflow Orchestration with Immutable Policy Definitions","text":"can install development version tricobbler like :","code":"# FILL THIS IN! HOW CAN PEOPLE INSTALL YOUR DEV PACKAGE?"},{"path":"http://dipterix.org/tricobbler/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Multi-Agent Workflow Orchestration with Immutable Policy Definitions","text":"basic example shows solve common problem:","code":"library(tricobbler) ## basic example code"},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":null,"dir":"Reference","previous_headings":"","what":"TriCobbler Base Agent Class — BaseAgent","title":"TriCobbler Base Agent Class — BaseAgent","text":"abstract R6 class representing single agent within TriCobbler framework. acts wrapper around ellmer chat object, providing standardized methods interaction, state management, context window monitoring.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"TriCobbler Base Agent Class — BaseAgent","text":"BaseAgent class designed foundation \"TriCobbler Trinity\": Planner: Manages task decomposition. Worker: Executes specific sub-tasks. Librarian: Manages long-term memory context sweeping.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"TriCobbler Base Agent Class — BaseAgent","text":"role assigned role agent (read-). model name underlying LLM model (read-). chat_object Access update internal ellmer chat object. turns Get set full list conversation turns. Primarily used Librarian history management.","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"TriCobbler Base Agent Class — BaseAgent","text":"BaseAgent$new() BaseAgent$chat() BaseAgent$get_load() BaseAgent$set_chat_object() BaseAgent$clone()","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"TriCobbler Base Agent Class — BaseAgent","text":"Initialize new TriCobbler Agent.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"TriCobbler Base Agent Class — BaseAgent","text":"","code":"BaseAgent$new(role, chat, context_window = 4000L)"},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"TriCobbler Base Agent Class — BaseAgent","text":"role string defining agent's description. chat initialized ellmer::Chat object. context_window Integer. token limit model use (default 4000).","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"method-chat-","dir":"Reference","previous_headings":"","what":"Method chat()","title":"TriCobbler Base Agent Class — BaseAgent","text":"Send prompt agent receive response.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"TriCobbler Base Agent Class — BaseAgent","text":"","code":"BaseAgent$chat(prompt, ..., echo = c(\"all\", \"none\", \"output\"))"},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"TriCobbler Base Agent Class — BaseAgent","text":"prompt string message send LLM. ... Additional arguments passed ellmer::chat$chat(). echo Control visibility stream (\"\", \"none\", \"output\").","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"method-get-load-","dir":"Reference","previous_headings":"","what":"Method get_load()","title":"TriCobbler Base Agent Class — BaseAgent","text":"Calculate current context window usage.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"TriCobbler Base Agent Class — BaseAgent","text":"","code":"BaseAgent$get_load()"},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"TriCobbler Base Agent Class — BaseAgent","text":"numeric value 0 1 representing percentage context window currently occupied chat history.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"method-set-chat-object-","dir":"Reference","previous_headings":"","what":"Method set_chat_object()","title":"TriCobbler Base Agent Class — BaseAgent","text":"Replace update internal chat object.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"TriCobbler Base Agent Class — BaseAgent","text":"","code":"BaseAgent$set_chat_object(chat, copy_turns = TRUE)"},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"TriCobbler Base Agent Class — BaseAgent","text":"chat new ellmer::Chat object. copy_turns Logical. TRUE, transfers conversation history old chat object new one.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"TriCobbler Base Agent Class — BaseAgent","text":"agent instance (invisible).","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"TriCobbler Base Agent Class — BaseAgent","text":"objects class cloneable method.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"TriCobbler Base Agent Class — BaseAgent","text":"","code":"BaseAgent$clone(deep = FALSE)"},{"path":"http://dipterix.org/tricobbler/reference/BaseAgent.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"TriCobbler Base Agent Class — BaseAgent","text":"deep Whether make deep clone.","code":""},{"path":"http://dipterix.org/tricobbler/reference/BasePolicy.html","id":null,"dir":"Reference","previous_headings":"","what":"Abstract Base Class for Policy Objects — BasePolicy","title":"Abstract Base Class for Policy Objects — BasePolicy","text":"Internal abstract base class policy objects. defines common properties name description shared concrete subclasses. class exported intended internal use .","code":""},{"path":"http://dipterix.org/tricobbler/reference/BasePolicy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Abstract Base Class for Policy Objects — BasePolicy","text":"","code":"BasePolicy(name = character(0), description = character(0))"},{"path":"http://dipterix.org/tricobbler/reference/BasePolicy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Abstract Base Class for Policy Objects — BasePolicy","text":"name Character. Must non-blank single string. description Character. Human-readable description; multiple values collapsed single space-separated string.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Contract.html","id":null,"dir":"Reference","previous_headings":"","what":"Contract — Contract","title":"Contract — Contract","text":"Master user-orchestrator agreement contains stage contracts validates completeness manifest.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Contract.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Contract — Contract","text":"","code":"Contract(   manifest = Manifest(),   stage_contracts = list(),   global_tools = list(),   global_context = list(),   total_timeout_seconds = integer(0),   total_budget_dollars = integer(0) )"},{"path":"http://dipterix.org/tricobbler/reference/Contract.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Contract — Contract","text":"manifest Manifest object describing workflow. stage_contracts List StageContract objects. global_tools List tools available globally. global_context List global context items. total_timeout_seconds Numeric total timeout contract. total_budget_dollars Numeric total budget contract.","code":""},{"path":"http://dipterix.org/tricobbler/reference/ContractExecutor.html","id":null,"dir":"Reference","previous_headings":"","what":"ContractExecutor — ContractExecutor","title":"ContractExecutor — ContractExecutor","text":"Callable function executes stage. wraps actual execution logic (LLM call, script, etc.) function. Inherits S7::class_function object callable still carrying additional attributes.","code":""},{"path":"http://dipterix.org/tricobbler/reference/ContractExecutor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ContractExecutor — ContractExecutor","text":"","code":"ContractExecutor(   .data = function() NULL,   name = \"\",   description = \"\",   metadata = list() )"},{"path":"http://dipterix.org/tricobbler/reference/ContractExecutor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ContractExecutor — ContractExecutor","text":".data Internal data argument injected S7 (unused). name Name executor (character, length 1). description Description executor (character). metadata List arbitrary metadata executor.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":null,"dir":"Reference","previous_headings":"","what":"Validated Container Linking Master Policy to State Policies — Manifest","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Container ties MasterPolicy together list StatePolicy objects. validator ensures every stage defined master policy represented least one state.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"","code":"Manifest(master = MasterPolicy(), states = list())"},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"master MasterPolicy object. states List StatePolicy objects.","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"tricobbler-s-three-tier-architecture","dir":"Reference","previous_headings":"","what":"TriCobbler's Three-Tier Architecture","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Manifest class represents validated blueprint layer (Tier 1) TriCobbler's three-tier design: Policy Layer (Tier 1 - Immutable S7): Blueprint definitions Manifest: Validated container linking MasterPolicy StatePolicy list MasterPolicy: Workflow version + allowed stages (macro-level phases) StatePolicy: Individual state metadata (stage, description, parameters, priority) Contract Layer (Tier 2 - Immutable S7): Execution agreements Contract: Master agreement linking Manifest StageContract list StageContract: Per-stage execution spec (executor, tools, validators) ContractExecutor: Callable function wrapping LLM/script execution logic State Layer (Tier 3 - Mutable R6): Runtime tracking ContractState: Orchestrates stage states workflow progression SubContractState: Tracks one stage's execution (status, /O, timing)","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"stages-vs-states-critical-distinction","dir":"Reference","previous_headings":"","what":"Stages vs States: Critical Distinction","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Stages (symbolic vocabulary): Workflow phase names defined MasterPolicy@stages (e.g., \"triage\", \"planning\", \"executing\") States (concrete implementations): StatePolicy objects reference stages add execution metadata (description, parameters, priority) Multiple states per stage: Enables different execution patterns: Parallel: Multiple states equal priority (concurrent execution) Sequential: Different priorities create ordered execution chains Critical gates: Critical states enforce sequential fail-fast semantics Validation rule: Every stage MasterPolicy@stages MUST least one corresponding StatePolicy (enforced validator)","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"validation-rules","dir":"Reference","previous_headings":"","what":"Validation Rules","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Manifest validator performs critical cross-checks: Completeness: Every MasterPolicy stage least one StatePolicy Prevents \"orphaned\" stages implementation Error message: \"Missing stages: ...\" Critical priority uniqueness: Critical states share priorities StatePolicy@critical = TRUE, state stage can priority value Prevents ambiguity critical state blocks lower-priority states Error message: \"Critical state ... share priority ...\"","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"immutability-and-serialization","dir":"Reference","previous_headings":"","what":"Immutability and Serialization","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"created, Manifest objects immutable (S7 value semantics), providing stable reference Contract creation. Manifests can serialized /YAML version control: manifest_write(manifest, file): Save human-readable YAML manifest_read(file): Load full validation validation rules apply deserialization","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"manifest-vs-contract","dir":"Reference","previous_headings":"","what":"Manifest vs Contract","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"Important: Manifest Contract. purely policy-level blueprint defines workflow (stages states), executes. actual execution contract (executors, validators, tools, SLAs) defined separately Contract class.","code":""},{"path":"http://dipterix.org/tricobbler/reference/Manifest.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Validated Container Linking Master Policy to State Policies — Manifest","text":"","code":"# Create a valid manifest mp <- MasterPolicy(name = \"example\", version = \"1.0.0\",                    stages = c(\"idle\", \"triage\"), parameters = list()) sp1 <- StatePolicy(name = \"state1\", stage = \"idle\", description = \"idle state\") sp2 <- StatePolicy(name = \"state2\", stage = \"triage\", description = \"triage state\") mf <- Manifest(master = mp, states = list(sp1, sp2)) mf #> Manifest (S7 class) - `example` (1.0.0) #>  #> Master policy stages:  #>   idle, triage #>  #> State `idle` #>   - State: `state1` (priority: 100) #> State `triage` #>   - State: `state2` (priority: 100)"},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":null,"dir":"Reference","previous_headings":"","what":"Master Workflow Policy Defining Stages and Version — MasterPolicy","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"Concrete policy defines overall workflow version set allowed stages. Inherits BasePolicy.","code":""},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"","code":"MasterPolicy(   name = character(0),   description = character(0),   version = character(0),   stages = character(0),   parameters = list() )"},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"name Character. Name policy (non-blank). description Character. Human-readable description. version Character. Version string validated property_version(). stages Character vector. Non-empty, lower-cased, unique, element may contain letters, digits, underscores dashes. parameters List. Additional free-form parameters workflow.","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"stages-as-workflow-vocabulary","dir":"Reference","previous_headings":"","what":"Stages as Workflow Vocabulary","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"stages property defines symbolic vocabulary workflow phases (e.g., \"triage\", \"planning\", \"executing\"). macro-level phase names must implemented least one StatePolicy object Manifest.","code":""},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"stage-naming-conventions","dir":"Reference","previous_headings":"","what":"Stage Naming Conventions","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"Stages automatically lowercased consistency Must contain letters (-z), digits (0-9), underscores (_), dashes (-) Must unique (case-insensitive) within workflow blank NA","code":""},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"immutability","dir":"Reference","previous_headings":"","what":"Immutability","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"MasterPolicy objects immutable (S7 value semantics). created, serve stable reference Contract objects. Use @ accessor read properties (e.g., policy@stages).","code":""},{"path":"http://dipterix.org/tricobbler/reference/MasterPolicy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Master Workflow Policy Defining Stages and Version — MasterPolicy","text":"","code":"MasterPolicy(   name = \"example\",   version = \"1.0.0\",   stages = c(\"idle\", \"triage\", \"planning\"),   parameters = list() ) #> MasterPolicy (S7 class) - `example`(1.0.0) #> Stages: idle, triage, planning"},{"path":"http://dipterix.org/tricobbler/reference/OutputSchema.html","id":null,"dir":"Reference","previous_headings":"","what":"OutputSchema — OutputSchema","title":"OutputSchema — OutputSchema","text":"Describes expected shape stage's output. stores named list element character string describing R type (e.g., \"character\", \"numeric\", \"list\").","code":""},{"path":"http://dipterix.org/tricobbler/reference/OutputSchema.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OutputSchema — OutputSchema","text":"","code":"OutputSchema(schema = list())"},{"path":"http://dipterix.org/tricobbler/reference/OutputSchema.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"OutputSchema — OutputSchema","text":"schema Named list element single character string describing R type corresponding output.","code":""},{"path":"http://dipterix.org/tricobbler/reference/OutputValidator.html","id":null,"dir":"Reference","previous_headings":"","what":"OutputValidator — OutputValidator","title":"OutputValidator — OutputValidator","text":"Encapsulates validation function stage output. function accept stage output (optionally input) return TRUE success character error message.","code":""},{"path":"http://dipterix.org/tricobbler/reference/OutputValidator.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"OutputValidator — OutputValidator","text":"","code":"OutputValidator(validate = function() NULL)"},{"path":"http://dipterix.org/tricobbler/reference/OutputValidator.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"OutputValidator — OutputValidator","text":"validate Function validates stage output; return TRUE error message.","code":""},{"path":"http://dipterix.org/tricobbler/reference/StageContract.html","id":null,"dir":"Reference","previous_headings":"","what":"StageContract — StageContract","title":"StageContract — StageContract","text":"Defines agreement single workflow stage, specifying (executor), tools, acceptance criteria.","code":""},{"path":"http://dipterix.org/tricobbler/reference/StageContract.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"StageContract — StageContract","text":"","code":"StageContract(   state_policy = StatePolicy(),   executor = ContractExecutor(),   tools = list(),   parameters = list(),   output_schema = NULL,   validator = NULL,   max_retries = 3L,   timeout_seconds = integer(0),   fallback = NULL )"},{"path":"http://dipterix.org/tricobbler/reference/StageContract.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"StageContract — StageContract","text":"state_policy StatePolicy object defining state. executor ContractExecutor object runs stage. tools List tools available stage. parameters List additional parameters executor. output_schema OutputSchema describing expected output. validator Function validate output (optional). max_retries Integer, max retry attempts. timeout_seconds Numeric, timeout stage. fallback Optional fallback ContractExecutor.","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":null,"dir":"Reference","previous_headings":"","what":"State-Level Policy Implementation for Workflow Stages — StatePolicy","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"Represents single workflow state. Inherits BasePolicy adds mandatory stage must match one stages defined MasterPolicy. Includes priority criticality flags execution ordering multiple states share stage.","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"","code":"StatePolicy(   name = character(0),   description = character(0),   stage = character(0),   parameters = list(),   priority = 100L,   critical = FALSE )"},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"name Character. Name state policy (non-blank). description Character. Human-readable description. stage Character. Must non-blank single string. parameters List. Optional state-specific parameters. priority Integer. Execution priority (0-999, default 100). Higher values run first (999 = highest priority, 0 = lowest). Used multiple states share stage. NA NULL treated 100. critical Logical. TRUE, states lower priority execute state fails (default FALSE). Critical states must priority >= 1 share priority code states.","code":""},{"path":[]},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"stages-vs-states","dir":"Reference","previous_headings":"","what":"Stages vs States","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"Stage (macro): workflow phase name MasterPolicy@stages (e.g., \"executing\") State (micro): concrete StatePolicy implementation stage Multiple states can reference stage different execution patterns","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"priority-system-and-execution-patterns","dir":"Reference","previous_headings":"","what":"Priority System and Execution Patterns","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"multiple states share stage, execution pattern depends priority: Range: 0 (lowest) 999 (highest) Default: 100 (priority = NA NULL) Equal priority: States run parallel (truly concurrent execution) Different priorities: States run sequentially (higher priority first)","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"critical-flag-enforcing-sequential-execution","dir":"Reference","previous_headings":"","what":"Critical Flag: Enforcing Sequential Execution","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"critical flag enforces sequential execution fail-fast semantics: critical = TRUE, state must execute succeed lower-priority states stage can run critical state fails, lower-priority states skipped entirely Critical states prevent parallel execution - parallel states one marked critical (enforced priority uniqueness) Critical states must priority >= 1 (lowest priority 0) Critical states share priority value states stage (enforced Manifest validator) Use case: Required validation gates must pass alternatives run","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"when-to-use-multiple-states-per-stage","dir":"Reference","previous_headings":"","what":"When to Use Multiple States Per Stage","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"Create multiple StatePolicy objects stage need: Parallel alternatives: Multiple states equal priority concurrent execution (e.g., /B testing, redundant processing) Sequential fallback chains: Different priorities create ordered execution fallbacks (e.g., primary approach → fallback → last resort) Critical validation gates: Critical state must succeed lower-priority alternatives execute (enforces sequential, fail-fast semantics) Staged rollout: Gradually shift priority new implementations mature","code":""},{"path":"http://dipterix.org/tricobbler/reference/StatePolicy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"State-Level Policy Implementation for Workflow Stages — StatePolicy","text":"","code":"# Basic state StatePolicy(   name = \"state1\",   stage = \"idle\",   description = \"initial idle state\",   parameters = list() ) #> StatePolicy (S7 class) - `state1` (idle) #> initial idle state  # Critical high-priority state StatePolicy(   name = \"validator\",   stage = \"executing\",   description = \"critical validation step\",   priority = 900,   critical = TRUE ) #> StatePolicy (S7 class) - `validator` (executing) #> critical validation step"},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":null,"dir":"Reference","previous_headings":"","what":"Read or Write Manifest from or to a YAML File — manifest-file","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"Serialize deserialize Manifest objects YAML files. enables version control sharing workflow policy definitions. resulting YAML files human-readable can edited manually, though changes must still pass validation read back. manifest_write() serializes Manifest object YAML file. manifest_read() deserializes YAML file back validated Manifest object, reconstructing MasterPolicy StatePolicy objects enforcing validation rules (e.g., every stage must corresponding state).","code":""},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"","code":"manifest_write(x, file, ...)  manifest_read(file, ...)"},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"x Manifest object serialize (manifest_write). file Character. Path YAML file (input manifest_read, output manifest_write). ... Additional arguments passed yaml::read_yaml() yaml::write_yaml().","code":""},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"manifest_write(): Invisibly returns path written file. manifest_read(): validated Manifest object.","code":""},{"path":"http://dipterix.org/tricobbler/reference/manifest-file.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Read or Write Manifest from or to a YAML File — manifest-file","text":"","code":"# Create a manifest mp <- MasterPolicy(   name = \"demo-workflow\",   version = \"1.0.0\",   stages = c(\"idle\", \"working\"),   parameters = list(timeout = 300) ) sp1 <- StatePolicy(name = \"init\", stage = \"idle\",                    description = \"Initial state\") sp2 <- StatePolicy(name = \"process\", stage = \"working\",                    description = \"Processing state\") manifest <- Manifest(master = mp, states = list(sp1, sp2))  # Write to temporary file tmp <- tempfile(fileext = \".yaml\") manifest_write(manifest, tmp)  # Verify file exists file.exists(tmp) #> [1] TRUE  # Read it back manifest2 <- manifest_read(tmp)  # Verify the name matches manifest2@name == \"demo-workflow\" #> [1] TRUE  # Clean up unlink(tmp)"}]
